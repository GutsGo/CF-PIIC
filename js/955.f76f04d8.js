"use strict";(self["webpackChunksanyue_imghub"]=self["webpackChunksanyue_imghub"]||[]).push([[955],{62:function(e,t,n){n.d(t,{A:function(){return m}});var a=n(443),i=n(514);const r={id:"themeMask"},s=["cx","cy","r"],o=["r"],l=["opacity"];function c(e,t,n,c,u,g){return(0,a.uX)(),(0,a.CE)("div",{id:"themeToggle",onClick:t[0]||(t[0]=(...e)=>g.handleToggleClick&&g.handleToggleClick(...e))},[((0,a.uX)(),(0,a.CE)("svg",{class:(0,i.C4)(["theme_toggle_svg",{dark:u.isDark}]),width:"1.5em",height:"1.5em",viewBox:"0 0 24 24",fill:"none","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",stroke:"currentColor"},[(0,a.Lk)("mask",r,[t[1]||(t[1]=(0,a.Lk)("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:"white"},null,-1)),(0,a.Lk)("circle",{class:"theme_toggle_circle1",fill:"black",cx:u.isDark?"50%":"100%",cy:u.isDark?"23%":"0%",r:u.isDark?"9":"5"},null,8,s)]),(0,a.Lk)("circle",{class:"theme_toggle_circle2",cx:"12",cy:"12",r:u.isDark?"9":"5",mask:"url(#themeMask)"},null,8,o),(0,a.Lk)("g",{class:"theme_toggle_g",stroke:"currentColor",opacity:u.isDark?0:1},t[2]||(t[2]=[(0,a.Fv)('<line x1="12" y1="1" x2="12" y2="3" data-v-7bdf8f0b></line><line x1="12" y1="21" x2="12" y2="23" data-v-7bdf8f0b></line><line x1="4.22" y1="4.22" x2="5.64" y2="5.64" data-v-7bdf8f0b></line><line x1="18.36" y1="18.36" x2="19.78" y2="19.78" data-v-7bdf8f0b></line><line x1="1" y1="12" x2="3" y2="12" data-v-7bdf8f0b></line><line x1="21" y1="12" x2="23" y2="12" data-v-7bdf8f0b></line><line x1="4.22" y1="19.78" x2="5.64" y2="18.36" data-v-7bdf8f0b></line><line x1="18.36" y1="5.64" x2="19.78" y2="4.22" data-v-7bdf8f0b></line>',8)]),8,l)],2))])}var u={name:"ToggleDark",data(){return{isDark:this.$store.getters.useDarkMode}},methods:{handleToggleClick(){this.isDark=!this.isDark,this.$store.commit("setUseDarkMode",this.isDark),this.$store.commit("setCusDarkMode",!0)}}},g=n(3928);const d=(0,g.A)(u,[["render",c],["__scopeId","data-v-7bdf8f0b"]]);var m=d},732:function(e,t,n){e.exports=n.p+"img/background.ea1b7ee7.jpg"},2068:function(e,t,n){var a=n(3151);t.A={data(){return{bingWallPaperIndex:0,customWallPaperIndex:0,backgroundInterval:null,backgroundInitParams:null}},computed:{...(0,a.L8)(["userConfig","bingWallPapers","useDarkMode"]),bkInterval(){return this.userConfig?.bkInterval||3e3},bkOpacity(){return this.userConfig?.bkOpacity||1},backgroundImagesTemplate(){return'\n        <img id="bg1" class="background-image1" alt="Background Image"/>\n        <img id="bg2" class="background-image2" alt="Background Image"/>\n      '},backgroundImagesStyles(){return"\n        .background-image1 {\n          position: fixed;\n          top: 0;\n          left: 0;\n          width: 100%;\n          height: 100%;\n          object-fit: cover;\n          z-index: -1;\n          opacity: 0;\n          transition: opacity 0.8s cubic-bezier(0.4, 0, 0.2, 1);\n        }\n        .background-image2 {\n          position: fixed;\n          top: 0;\n          left: 0;\n          width: 100%;\n          height: 100%;\n          object-fit: cover;\n          z-index: -1;\n          opacity: 0;\n          transition: opacity 0.8s cubic-bezier(0.4, 0, 0.2, 1);\n        }\n      "}},watch:{useDarkMode(e,t){e!==t&&this.backgroundInitParams&&this.$nextTick(()=>{this.smoothThemeTransition(this.backgroundInitParams.configKey,this.backgroundInitParams.containerSelector,this.backgroundInitParams.useDefaultBackground,this.backgroundInitParams.autoCreateElements)})}},mounted(){this.injectBackgroundStyles()},beforeUnmount(){this.backgroundInterval&&clearInterval(this.backgroundInterval),this.clearBackgroundImages(!0),this.removeBackgroundStyles()},methods:{injectBackgroundStyles(){const e="background-manager-styles";if(!document.getElementById(e)){const t=document.createElement("style");t.id=e,t.textContent=this.backgroundImagesStyles,document.head.appendChild(t)}},removeBackgroundStyles(){const e="background-manager-styles",t=document.getElementById(e);t&&t.remove()},createBackgroundElements(e){if(!e)return void console.warn("未提供有效的容器元素");if(document.getElementById("bg1")||document.getElementById("bg2"))return;const t=document.createElement("img");t.id="bg1",t.className="background-image1",t.alt="Background Image";const n=document.createElement("img");n.id="bg2",n.className="background-image2",n.alt="Background Image",e.insertBefore(t,e.firstChild),e.insertBefore(n,e.firstChild)},initializeBackground(e,t=".login",n=!1,a=!1){if(this.backgroundInitParams={configKey:e,containerSelector:t,useDefaultBackground:n,autoCreateElements:a},a){const e=document.querySelector(t);!e||document.getElementById("bg1")&&document.getElementById("bg2")||this.createBackgroundElements(e)}const i=document.getElementById("bg1"),r=document.getElementById("bg2");if(!i||!r)return void console.warn("背景图元素 #bg1 或 #bg2 未找到，请确保页面中包含这些元素或启用 autoCreateElements");const s=this.userConfig?.[e];"bing"===s?this.setupBingWallpaper(i,r,t):Array.isArray(s)&&s.length>1?this.setupCustomWallpaperCarousel(i,r,s,t):Array.isArray(s)&&1===s.length?this.setupSingleCustomWallpaper(i,s[0],t):n&&this.setupDefaultWallpaper(i,t)},setupBingWallpaper(e,t,n){this.$store.dispatch("fetchBingWallPapers").then(()=>{0!==this.bingWallPapers.length&&(this.loadBackgroundImage(e,this.bingWallPapers[this.bingWallPaperIndex]?.url,n),this.backgroundInterval=setInterval(()=>{this.switchBingWallpaper(e,t)},this.bkInterval))})},setupCustomWallpaperCarousel(e,t,n,a){this.loadBackgroundImage(e,n[this.customWallPaperIndex],a),this.backgroundInterval=setInterval(()=>{this.switchCustomWallpaper(e,t,n)},this.bkInterval)},setupSingleCustomWallpaper(e,t,n){this.loadBackgroundImage(e,t,n)},setupDefaultWallpaper(e,t){this.useDarkMode;const a=n(7477);this.loadBackgroundImage(e,a,t)},loadBackgroundImage(e,t,n){e.src=t,e.onload=()=>{e.style.opacity=this.bkOpacity;const t=document.querySelector(n);t&&(t.style.background="transparent")}},switchBingWallpaper(e,t){if(0===this.bingWallPapers.length)return;const n=0!=e.style.opacity?e:t,a=0!=e.style.opacity?t:e;n.style.opacity=0,this.bingWallPaperIndex=(this.bingWallPaperIndex+1)%this.bingWallPapers.length,a.src=this.bingWallPapers[this.bingWallPaperIndex]?.url,a.onload=()=>{a.style.opacity=this.bkOpacity}},switchCustomWallpaper(e,t,n){const a=0!=e.style.opacity?e:t,i=0!=e.style.opacity?t:e;a.style.opacity=0,this.customWallPaperIndex=(this.customWallPaperIndex+1)%n.length,i.src=n[this.customWallPaperIndex],i.onload=()=>{i.style.opacity=this.bkOpacity}},clearBackgroundInterval(){this.backgroundInterval&&(clearInterval(this.backgroundInterval),this.backgroundInterval=null)},clearBackgroundImages(e=!1){const t=document.getElementById("bg1"),n=document.getElementById("bg2");e?(t&&(t.style.transition="none",t.style.opacity=0,t.src="",setTimeout(()=>{t&&(t.style.transition="opacity 0.8s cubic-bezier(0.4, 0, 0.2, 1)")},50)),n&&(n.style.transition="none",n.style.opacity=0,n.src="",setTimeout(()=>{n&&(n.style.transition="opacity 0.8s cubic-bezier(0.4, 0, 0.2, 1)")},50))):(t&&(t.style.opacity=0,setTimeout(()=>{t&&(t.src="")},800)),n&&(n.style.opacity=0,setTimeout(()=>{n&&(n.src="")},800)))},smoothThemeTransition(e,t=".login",a=!1,i=!1){const r=this.userConfig?.[e];if(!a||void 0!==r)return void this.reinitializeBackground(e,t,a,i);const s=document.getElementById("bg1"),o=document.getElementById("bg2");if(!s||!o)return void this.reinitializeBackground(e,t,a,i);const l=0!=s.style.opacity?s:o,c=0!=s.style.opacity?o:s,u=this.useDarkMode,g=n(u?732:7835),d=new Image;d.onload=()=>{c.src=g,c.onload=()=>{l.style.opacity=0,setTimeout(()=>{c.style.opacity=this.bkOpacity;const e=document.querySelector(t);e&&(e.style.background="transparent")},50)}},d.onerror=()=>{console.warn("主题背景图预加载失败，回退到直接切换"),this.reinitializeBackground(e,t,a,i)},d.src=g},reinitializeBackground(e,t=".login",n=!1,a=!1){this.clearBackgroundInterval(),this.clearBackgroundImages(!0),this.bingWallPaperIndex=0,this.customWallPaperIndex=0,setTimeout(()=>{this.initializeBackground(e,t,n,a)},100)}}}},7477:function(e,t,n){e.exports=n.p+"img/background.1ec8e48a.webp"},7835:function(e,t,n){e.exports=n.p+"img/background-light.f17603bc.jpg"},9518:function(e,t,n){n.d(t,{A:function(){return g}});var a=n(443),i=n(514);const r={key:0,class:"page-footer"};function s(e,t,n,s,o,l){const c=(0,a.g2)("font-awesome-icon");return l.disableFooter?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.CE)("div",r,[(0,a.Lk)("p",null,[(0,a.eW)("© 2024-"+(0,i.v_)(l.thisYear)+" Designed by ByteBites. ",1),(0,a.bF)(c,{icon:"paper-plane",class:"footer-link-icon"})])]))}var o=n(3151),l={name:"Footer",computed:{...(0,o.L8)(["userConfig"]),footerLink(){return this.userConfig?.footerLink||"https://github.com/MarSeventh"},thisYear(){return(new Date).getFullYear()},disableFooter(){return this.userConfig?.disableFooter||!1}}},c=n(3928);const u=(0,c.A)(l,[["render",s],["__scopeId","data-v-664ea381"]]);var g=u}}]);
//# sourceMappingURL=955.f76f04d8.js.map