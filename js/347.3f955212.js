"use strict";(self["webpackChunksanyue_imghub"]=self["webpackChunksanyue_imghub"]||[]).push([[347],{2658:function(e,t,o){o.d(t,{A:function(){return v}});var r=o(6217),n=o(47),s=(o(5331),o(9648),o(2105)),a=(o(9092),o(4537)),i=o(6768),l=o(4232),u=o(5130);const c={class:"login"},d={class:"login-container"},h={class:"login-title",tabindex:"0"};function g(e,t,o,g,m,f){const p=a.A,k=s.WK,b=n.S2,v=r.A;return(0,i.uX)(),(0,i.CE)("div",c,[(0,i.bF)(p),(0,i.Lk)("div",d,[(0,i.Lk)("h1",h,(0,l.v_)(o.title),1),((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(o.fields,(e=>((0,i.uX)(),(0,i.CE)("div",{key:e.key,class:"input-container"},[(0,i.bF)(k,{modelValue:m.formData[e.key],"onUpdate:modelValue":t=>m.formData[e.key]=t,placeholder:e.placeholder,type:e.type||"text","show-password":e.showPassword,label:e.label,class:"m3-input",onKeyup:(0,u.jR)(f.handleSubmit,["enter","native"])},null,8,["modelValue","onUpdate:modelValue","placeholder","type","show-password","label","onKeyup"])])))),128)),(0,i.bF)(b,{class:"submit m3-button",type:"primary",onClick:f.handleSubmit},{default:(0,i.k6)((()=>[(0,i.eW)((0,l.v_)(o.submitText),1)])),_:1},8,["onClick"])]),(0,i.bF)(v,{class:"footer"})])}var m=o(3667),f=o(782),p={name:"BaseLogin",props:{title:{type:String,required:!0},fields:{type:Array,required:!0},submitText:{type:String,default:"登录"}},data(){return{formData:{}}},computed:{...(0,f.L8)(["userConfig"])},components:{Footer:r.A,ToggleDark:m.A,Logo:a.A},created(){this.initFormData()},methods:{initFormData(){const e={};this.fields.forEach((t=>{e[t.key]=""})),this.formData=e},handleSubmit(){this.$emit("submit",{...this.formData})}}},k=o(1241);const b=(0,k.A)(p,[["render",g],["__scopeId","data-v-b588ad8a"]]);var v=b},6217:function(e,t,o){o.d(t,{A:function(){return h}});var r=o(6768),n=o(4232);const s={key:0,class:"page-footer"},a=["href"];function i(e,t,o,i,l,u){const c=(0,r.g2)("font-awesome-icon");return u.disableFooter?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.CE)("footer",s,[(0,r.Lk)("p",null,[(0,r.eW)("© 2024-"+(0,n.v_)(u.thisYear)+" Designed by ",1),t[0]||(t[0]=(0,r.Lk)("a",{class:"footer-link",href:"https://github.com/GutsGO",target:"_blank"},"GutsGO",-1)),t[1]||(t[1]=(0,r.eW)(" for You! ")),(0,r.Lk)("a",{href:u.footerLink,target:"_blank",class:"footer-icon-link"},[(0,r.bF)(c,{icon:"paper-plane"})],8,a)])]))}var l=o(782),u={name:"Footer",computed:{...(0,l.L8)(["userConfig"]),footerLink(){return this.userConfig?.footerLink||"https://github.com/GutsGO"},thisYear(){return(new Date).getFullYear()},disableFooter(){return this.userConfig?.disableFooter||!1}}},c=o(1241);const d=(0,c.A)(u,[["render",i],["__scopeId","data-v-306b4782"]]);var h=d},4537:function(e,t,o){o.d(t,{A:function(){return d}});var r=o(6768);const n=["href","target"],s=["alt","src"];function a(e,t,o,a,i,l){return(0,r.uX)(),(0,r.CE)("a",{href:o.href,target:o.target,class:"logo-link"},[(0,r.Lk)("img",{class:"logo",alt:o.alt,src:l.logoUrl},null,8,s)],8,n)}var i=o(782),l={name:"Logo",props:{href:{type:String,default:"https://github.com/GutsGO"},target:{type:String,default:"_blank",validator:e=>["_blank","_self","_parent","_top"].includes(e)},alt:{type:String,default:"logo"},customSrc:{type:String,default:""}},computed:{...(0,i.L8)(["userConfig"]),logoUrl(){return this.customSrc||this.userConfig?.logoUrl||o(1930)}}},u=o(1241);const c=(0,u.A)(l,[["render",a],["__scopeId","data-v-15db7350"]]);var d=c},3667:function(e,t,o){o.d(t,{A:function(){return c}});var r=o(6768);const n={key:0,class:"theme-icon",width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor"},s={key:1,class:"theme-icon",width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor"};function a(e,t,o,a,i,l){return(0,r.uX)(),(0,r.CE)("button",{id:"themeToggle",class:"m3-icon-button",onClick:t[0]||(t[0]=(...e)=>l.handleToggleClick&&l.handleToggleClick(...e)),"aria-label":"Toggle theme"},[i.isDark?((0,r.uX)(),(0,r.CE)("svg",s,t[2]||(t[2]=[(0,r.Lk)("path",{d:"M9.37 5.51c.47-2.02 2.37-3.51 4.63-3.51 2.76 0 5 2.24 5 5 0 2.26-1.49 4.16-3.51 4.63-.34.08-.69.12-1.04.12-2.76 0-5-2.24-5-5 0-.35.04-.69.12-1.04zM12 2c-3.14 0-5.9.93-8.24 2.55.33-.04.66-.06 1-.06 3.19 0 5.92 2.01 6.77 4.79C12.59 9.94 13.72 11 15 11c1.55 0 2.87-1.11 3.23-2.56C19.07 7.1 20 5.14 20 3c0-.34-.02-.67-.06-1-2.34-1.62-5.1-2.55-8.24-2.55z"},null,-1)]))):((0,r.uX)(),(0,r.CE)("svg",n,t[1]||(t[1]=[(0,r.Lk)("path",{d:"M12 7c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5zM12 9c1.65 0 3 1.35 3 3s-1.35 3-3 3-3-1.35-3-3 1.35-3 3-3zm0-5h-1v-2h2v2h-1zm9.95 2.95l-1.41-1.41-1.41 1.41 1.41 1.41zm-2.07 11.31l1.41 1.41 1.41-1.41-1.41-1.41zm-13.84-1.41l-1.41 1.41 1.41 1.41 1.41-1.41zM4 12H2v-2h2v2zm18 0h-2v-2h2v2zm-10 8h-2v2h2v-2zm-5.36-16.64l-1.41-1.41-1.41 1.41 1.41 1.41z"},null,-1)])))])}var i={name:"ToggleDark",data(){return{isDark:this.$store.getters.useDarkMode}},methods:{handleToggleClick(){this.isDark=!this.isDark,this.$store.commit("setUseDarkMode",this.isDark),this.$store.commit("setCusDarkMode",!0)}}},l=o(1241);const u=(0,l.A)(i,[["render",a],["__scopeId","data-v-67921110"]]);var c=u},7728:function(e,t,o){o.r(t),o.d(t,{default:function(){return g}});var r=o(2658),n=o(6768);function s(e,t,o,s,a,i){const l=r.A;return(0,n.uX)(),(0,n.Wv)(l,{title:i.loginTitle,fields:a.loginFields,"submit-text":"登录","background-key":"loginBkImg","is-admin":!1,onSubmit:i.handleLogin},null,8,["title","fields","onSubmit"])}o(4114);var a=o(4570),i=o.n(a),l=o(9189),u=o(782),c={data(){return{loginFields:[{key:"password",label:"密码",placeholder:"请输入认证码",type:"password",showPassword:!0}]}},computed:{...(0,u.L8)(["userConfig"]),ownerName(){return this.userConfig?.ownerName||""},loginTitle(){return`登录到 ${this.ownerName} 图床`}},components:{BaseLogin:r.A},methods:{handleLogin(e){const{password:t}=e,o=""===t?"unset":t;l.A.post("/api/login",{authCode:t}).then((e=>{200===e.status?(i().set("authCode",o,"14d"),this.$router.push("/"),this.$message.success("登录成功")):this.$message.error("登录失败，请检查密码是否正确")})).catch((e=>{this.$message.error("登录失败，请检查密码是否正确")}))}}},d=o(1241);const h=(0,d.A)(c,[["render",s]]);var g=h},1930:function(e,t,o){e.exports=o.p+"img/logo.c5758414.webp"}}]);
//# sourceMappingURL=347.3f955212.js.map